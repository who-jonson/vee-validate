<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>withValidation() | VeeValidate</title>
    <meta name="description" content="Input validation for Vue.js">
    <meta charset="utf-8">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
  <meta name="theme-color" content="#41b883">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="https://s3.eu-central-1.amazonaws.com/logaretm/vee-validate.svg">
  <link rel="apple-touch-icon" sizes="57x57" href="/vee-validate/img/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/vee-validate/img/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/vee-validate/img/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/vee-validate/img/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/vee-validate/img/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/vee-validate/img/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/vee-validate/img/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/vee-validate/img/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/vee-validate/img/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/vee-validate/img/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/vee-validate/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/vee-validate/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/vee-validate/img/favicon-16x16.png">
    
    <link rel="preload" href="/vee-validate/assets/css/0.styles.5ee2af82.css" as="style"><link rel="preload" href="/vee-validate/assets/js/app.6ae29df4.js" as="script"><link rel="preload" href="/vee-validate/assets/js/3.46ca09f5.js" as="script"><link rel="preload" href="/vee-validate/assets/js/60.fd960778.js" as="script"><link rel="preload" href="/vee-validate/assets/js/13.cb0b41be.js" as="script"><link rel="preload" href="/vee-validate/assets/js/59.82df06bf.js" as="script"><link rel="prefetch" href="/vee-validate/assets/js/2.4754bc93.js"><link rel="prefetch" href="/vee-validate/assets/js/4.956e590e.js"><link rel="prefetch" href="/vee-validate/assets/js/5.8402bb29.js"><link rel="prefetch" href="/vee-validate/assets/js/6.e4baca63.js"><link rel="prefetch" href="/vee-validate/assets/js/7.94567a1d.js"><link rel="prefetch" href="/vee-validate/assets/js/8.17a1c89a.js"><link rel="prefetch" href="/vee-validate/assets/js/9.85494358.js"><link rel="prefetch" href="/vee-validate/assets/js/10.5f2e8f9a.js"><link rel="prefetch" href="/vee-validate/assets/js/11.cf503c63.js"><link rel="prefetch" href="/vee-validate/assets/js/12.12d12c7f.js"><link rel="prefetch" href="/vee-validate/assets/js/14.7faf2555.js"><link rel="prefetch" href="/vee-validate/assets/js/15.f32cfa1c.js"><link rel="prefetch" href="/vee-validate/assets/js/16.35d37b27.js"><link rel="prefetch" href="/vee-validate/assets/js/17.692d96ec.js"><link rel="prefetch" href="/vee-validate/assets/js/18.1c49dcb4.js"><link rel="prefetch" href="/vee-validate/assets/js/19.bc7b8ce2.js"><link rel="prefetch" href="/vee-validate/assets/js/20.a67b8c69.js"><link rel="prefetch" href="/vee-validate/assets/js/21.c02f162d.js"><link rel="prefetch" href="/vee-validate/assets/js/22.13978df3.js"><link rel="prefetch" href="/vee-validate/assets/js/23.ec3b6284.js"><link rel="prefetch" href="/vee-validate/assets/js/24.d98271e5.js"><link rel="prefetch" href="/vee-validate/assets/js/25.6f955552.js"><link rel="prefetch" href="/vee-validate/assets/js/26.8e49370c.js"><link rel="prefetch" href="/vee-validate/assets/js/27.c391304e.js"><link rel="prefetch" href="/vee-validate/assets/js/28.69af6609.js"><link rel="prefetch" href="/vee-validate/assets/js/29.bc22cf0b.js"><link rel="prefetch" href="/vee-validate/assets/js/30.83dc7a3f.js"><link rel="prefetch" href="/vee-validate/assets/js/31.6f425c48.js"><link rel="prefetch" href="/vee-validate/assets/js/32.2dce5075.js"><link rel="prefetch" href="/vee-validate/assets/js/33.9cd42182.js"><link rel="prefetch" href="/vee-validate/assets/js/34.fd8ef583.js"><link rel="prefetch" href="/vee-validate/assets/js/35.47f9677a.js"><link rel="prefetch" href="/vee-validate/assets/js/36.22fc4ce1.js"><link rel="prefetch" href="/vee-validate/assets/js/37.74fc7a23.js"><link rel="prefetch" href="/vee-validate/assets/js/38.02d1f7bd.js"><link rel="prefetch" href="/vee-validate/assets/js/39.e1542b16.js"><link rel="prefetch" href="/vee-validate/assets/js/40.7935f6c0.js"><link rel="prefetch" href="/vee-validate/assets/js/41.8abe976a.js"><link rel="prefetch" href="/vee-validate/assets/js/42.a0edf8da.js"><link rel="prefetch" href="/vee-validate/assets/js/43.3c0cc536.js"><link rel="prefetch" href="/vee-validate/assets/js/44.25c2d854.js"><link rel="prefetch" href="/vee-validate/assets/js/45.9fcf9462.js"><link rel="prefetch" href="/vee-validate/assets/js/46.f974cb05.js"><link rel="prefetch" href="/vee-validate/assets/js/47.69307d4d.js"><link rel="prefetch" href="/vee-validate/assets/js/48.3d3ce2e8.js"><link rel="prefetch" href="/vee-validate/assets/js/49.f84d369f.js"><link rel="prefetch" href="/vee-validate/assets/js/50.47434342.js"><link rel="prefetch" href="/vee-validate/assets/js/51.4e76f829.js"><link rel="prefetch" href="/vee-validate/assets/js/52.147313f2.js"><link rel="prefetch" href="/vee-validate/assets/js/53.d780ac7e.js"><link rel="prefetch" href="/vee-validate/assets/js/54.c18c812d.js"><link rel="prefetch" href="/vee-validate/assets/js/55.c37df38b.js"><link rel="prefetch" href="/vee-validate/assets/js/56.06e8d80f.js"><link rel="prefetch" href="/vee-validate/assets/js/57.161ed0da.js"><link rel="prefetch" href="/vee-validate/assets/js/58.1180a708.js"><link rel="prefetch" href="/vee-validate/assets/js/vendors~docsearch.67757c28.js">
    <link rel="stylesheet" href="/vee-validate/assets/css/0.styles.5ee2af82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vee-validate/" class="home-link router-link-active"><!----> <span class="site-name">VeeValidate</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vee-validate/guide/basics.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div> <a href="https://github.com/logaretm/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vee-validate/guide/basics.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div> <a href="https://github.com/logaretm/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vee-validate/overview.html" class="sidebar-link">Overview</a></li><li><a href="/vee-validate/migration.html" class="sidebar-link">Migration Guide</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vee-validate/guide/basics.html" class="sidebar-link">Basics</a></li><li><a href="/vee-validate/guide/required-fields.html" class="sidebar-link">Required Fields</a></li><li><a href="/vee-validate/guide/rules.html" class="sidebar-link">Available Rules</a></li><li><a href="/vee-validate/guide/state.html" class="sidebar-link">Validation State</a></li><li><a href="/vee-validate/guide/forms.html" class="sidebar-link">Handling Forms</a></li><li><a href="/vee-validate/guide/localization.html" class="sidebar-link">Localization</a></li><li><a href="/vee-validate/guide/interaction-and-ux.html" class="sidebar-link">Interaction and UX</a></li><li><a href="/vee-validate/guide/3rd-party-libraries.html" class="sidebar-link">Validating 3rd Party Libraries</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vee-validate/advanced/rules-object-expression.html" class="sidebar-link">Rules Object Expression</a></li><li><a href="/vee-validate/advanced/cross-field-validation.html" class="sidebar-link">Cross Field Validation</a></li><li><a href="/vee-validate/advanced/dynamic-rules.html" class="sidebar-link">Dynamic Rules</a></li><li><a href="/vee-validate/advanced/refactoring-forms.html" class="sidebar-link">Refactoring Forms</a></li><li><a href="/vee-validate/advanced/server-side-validation.html" class="sidebar-link">Server Side Validation</a></li><li><a href="/vee-validate/advanced/programmatic-validation.html" class="sidebar-link">Core Validation API</a></li><li><a href="/vee-validate/advanced/testing.html" class="sidebar-link">Testing Caveats</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vee-validate/api/validation-provider.html" class="sidebar-link">&lt;ValidationProvider /&gt;</a></li><li><a href="/vee-validate/api/validation-observer.html" class="sidebar-link">&lt;ValidationObserver /&gt;</a></li><li><a href="/vee-validate/api/with-validation.html" class="active sidebar-link">withValidation()</a></li><li><a href="/vee-validate/api/validate.html" class="sidebar-link">validate()</a></li><li><a href="/vee-validate/api/extend.html" class="sidebar-link">extend()</a></li></ul></section></li></ul> </aside> <!----> <div id="ad"></div> <main class="page"> <div class="theme-default-content content__default"><h1 id="withvalidation"><a href="#withvalidation" aria-hidden="true" class="header-anchor">#</a> withValidation()</h1> <p>Creates a higher order component (HOC) from the given component, you can use this function to quickly wrap your input components with a validation provider. It passes the slot props from the <code>ValidationProvider</code> as props to the underlying component. For more information regarding the slot props, See <a href="/vee-validate/api/validation-provider.html#slot-scope-props">ValidationProvider slot props</a></p> <p>Assuming you have a <code>TextField</code> component that may look like this:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>innerValue<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ errors[0] }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'TextField'</span><span class="token punctuation">,</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">,</span> <span class="token string">'errors'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      innerValue<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    watch<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">innerValue</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>This component does not have validation built-in, but it does have the UI to do so which is common in design systems and 3rd party input components.</p> <p>The next step is to use the <code>withValidation</code> function to create a version of it but with validation enabled.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> withValidation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vee-validate'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TextField <span class="token keyword">from</span> <span class="token string">'./components/TextField'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> TextFieldWithValidation <span class="token operator">=</span> <span class="token function">withValidation</span><span class="token punctuation">(</span>TextField<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <code>TextFieldWithValidation</code> is an <strong>enhanced component</strong> that you can use. The resultant component accepts the same props as the <code>ValidationProvider</code> component, for more information about the available props, see <a href="/vee-validate/api/validation-provider.html#props">ValidationProvider props</a></p> <p>The original <code>TextField</code> component will receive the slot scope props as props, but your base component doesn't have to be compatiable with the slot props as you can map the slot props to props by passing a function as a second argument:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> withValidation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vee-validate'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TextField <span class="token keyword">from</span> <span class="token string">'./components/TextField'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> TextFieldWithValidation <span class="token operator">=</span> <span class="token function">withValidation</span><span class="token punctuation">(</span>TextField<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> errors <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    error<span class="token operator">-</span>message<span class="token punctuation">:</span> errors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The second argument is a function that transforms the validation scoped slot to props object to be passed to the wrapped component. In this case you want to pass the first item in the <code>errors</code> array as the <code>error-message</code> prop to the underlying <code>TextField</code> component.</p> <div class="danger custom-block"><p class="custom-block-title">WARNING</p> <p>This approach has some cons, for example if the wrapped component accepts props that have the same name as the <code>ValidationProvider</code> component. While it will receive these props, they may be of different types, which could lead to conflict issues. The problem with HOCs are that you need to be aware of the underlying component's implementation. This can be problematic when working with 3rd party components, generally it is recommended to wrap your components with <code>ValidationProvider</code> manually.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/logaretm/vee-validate/edit/master/docs/api/with-validation.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vee-validate/api/validation-observer.html" class="prev">&lt;ValidationObserver /&gt;</a></span> <span class="next"><a href="/vee-validate/api/validate.html">validate()</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vee-validate/assets/js/app.6ae29df4.js" defer></script><script src="/vee-validate/assets/js/3.46ca09f5.js" defer></script><script src="/vee-validate/assets/js/60.fd960778.js" defer></script><script src="/vee-validate/assets/js/13.cb0b41be.js" defer></script><script src="/vee-validate/assets/js/59.82df06bf.js" defer></script>
  </body>
</html>
